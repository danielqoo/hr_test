{% extends 'partials/base_self.html' %}
{% load static %}
{% block extra_css%}
    <!-- twitter-bootstrap-wizard css -->
    <link rel="stylesheet" href="{% static 'libs/twitter-bootstrap-wizard/prettify.css' %}">
    <link href="{% static 'libs/bootstrap-rating/bootstrap-rating.css'%}" rel="stylesheet" type="text/css" />
{% endblock extra_css %}
{% block content %}
<div class="row">
    <div class="col-lg-12">
        <div class="card">
            <div class="card-body">

                {% if users_detail.level == '1' and user.level == '1' or users_detail.level == '2' and user.level == '1' or users_detail.level == '3' and user.level == '1' or users_detail.level == '4' and user.level == '1' or users_detail.level == '2' and user.level == '2' and users_detail.email == user.email or users_detail.level == '3' and user.level == '3' and users_detail.email == user.email or users_detail.level == '4' and user.level == '4' and users_detail.email == user.email %}
                {% for report in report_detail_001.all %}
                <div id="accordion" class="custom-accordion">
                    <div class="card mb-1 shadow-none">
                        <a href="#collapseOne" class="text-dark collapsed" data-bs-toggle="collapse" aria-expanded="false" aria-controls="collapseOne">
                            <div class="card-header" id="headingOne">
                                <h6 class="m-0">
                                    자기평가
                                    <i class="mdi mdi-minus float-end accor-plus-icon"></i>
                                </h6>
                            </div>
                        </a>
                        <div id="collapseOne" class="collapse" aria-labelledby="headingOne" data-bs-parent="#accordion" style="">
                            <div class="card-body">

                                <div class="table-responsive">
                                    <h4 class="card-title"><i class="ri-user-star-line"></i> 작성자 : {{report.name}}</h4>
                                    <table class="table table-striped mb-0">
                                        <thead>
                                            <tr>
                                                <th>구분</th>
                                                <th>항목</th>
                                                <th>평가결과</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <th scope="row">만족도 1</th>
                                                <td>업무 수행에 따른 만족도는?</td>
                                                <td>{{report.schedule_01_01}}</td>
                                            </tr>
                                            <tr>
                                                <th scope="row">난의도 1</th>
                                                <td>능력에 비해 직무의 난이도는?</td>
                                                <td>{{report.schedule_02_01}}</td>
                                            </tr>
                                            <tr>
                                                <th scope="row">업무량 1</th>
                                                <td>현재 담당하고 있는 업무의 양은?</td>
                                                <td>{{report.schedule_03_01}}</td>
                                            </tr>
                                            <tr>
                                                <th scope="row">불만요소 1</th>
                                                <td>담당 직무에 불만이 있는 경우 그 까닭은?</td>
                                                <td>{{report.schedule_04_01}}</td>
                                            </tr>
                                            <tr>
                                                <th scope="row">불만요소 1 (기타)</th>
                                                <td>담당 직무에 불만이 있는 경우 그 까닭은?</td>
                                                <td>{{report.schedule_04_02}}</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
                {% endfor %}
                {% endif %}

                {% if users_detail.level == '1' and user.level == '1' or users_detail.level == '2' and user.level == '1' or users_detail.level == '3' and user.level == '1' or users_detail.level == '4' and user.level == '1' or users_detail.level == '3' and user.level == '2' and users_detail.department == user.department or users_detail.level == '4' and user.level == '3' and users_detail.team == user.team %}
                {% for report in report_detail_002.all %}
                <div id="accordion" class="custom-accordion">
                    <div class="card mb-1 shadow-none">
                        <a href="#collapseTwo" class="text-dark collapsed" data-bs-toggle="collapse" aria-expanded="false" aria-controls="collapseTwo">
                            <div class="card-header" id="headingTwo">
                                <h6 class="m-0">
                                    1차고과
                                    <i class="mdi mdi-minus float-end accor-plus-icon"></i>
                                </h6>
                            </div>
                        </a>
                        <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-bs-parent="#accordion" style="">
                            <div class="card-body">

                                <div class="table-responsive">
                                    <h4 class="card-title"><i class="ri-user-star-line"></i> 작성자 : {{report.name}}</h4>
                                    <table class="table table-striped mb-0">
                                        <thead>
                                            <tr>
                                                <th>구분</th>
                                                <th>항목</th>
                                                <th>평가결과</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <th scope="row">만족도 1</th>
                                                <td>업무 수행에 따른 만족도는?</td>
                                                <td>{{report.schedule_01_01}}</td>
                                            </tr>
                                            <tr>
                                                <th scope="row">난의도 1</th>
                                                <td>능력에 비해 직무의 난이도는?</td>
                                                <td>{{report.schedule_02_01}}</td>
                                            </tr>
                                            <tr>
                                                <th scope="row">업무량 1</th>
                                                <td>현재 담당하고 있는 업무의 양은?</td>
                                                <td>{{report.schedule_03_01}}</td>
                                            </tr>
                                            <tr>
                                                <th scope="row">불만요소 1</th>
                                                <td>담당 직무에 불만이 있는 경우 그 까닭은?</td>
                                                <td>{{report.schedule_04_01}}</td>
                                            </tr>
                                            <tr>
                                                <th scope="row">불만요소 1 (기타)</th>
                                                <td>담당 직무에 불만이 있는 경우 그 까닭은?</td>
                                                <td>{{report.schedule_04_02}}</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
                {% endfor %}
                {% endif %}
                
                {% if users_detail.level == '1' and user.level == '1' or users_detail.level == '2' and user.level == '1' or users_detail.level == '3' and user.level == '1' or users_detail.level == '4' and user.level == '1' or users_detail.level == '4' and user.level == '2' and users_detail.department == user.department %}
                {% for report in report_detail_003.all %}
                <div id="accordion" class="custom-accordion">
                    <div class="card mb-1 shadow-none">
                        <a href="#collapseThree" class="text-dark collapsed" data-bs-toggle="collapse" aria-expanded="false" aria-controls="collapseTwo">
                            <div class="card-header" id="headingTwo">
                                <h6 class="m-0">
                                    2차고과
                                    <i class="mdi mdi-minus float-end accor-plus-icon"></i>
                                </h6>
                            </div>
                        </a>
                        <div id="collapseThree" class="collapse" aria-labelledby="headingTwo" data-bs-parent="#accordion" style="">
                            <div class="card-body">

                                <div class="table-responsive">
                                    <h4 class="card-title"><i class="ri-user-star-line"></i> 작성자 : {{report.name}}</h4>
                                    <table class="table table-striped mb-0">
                                        <thead>
                                            <tr>
                                                <th>구분</th>
                                                <th>항목</th>
                                                <th>평가결과</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <th scope="row">만족도 1</th>
                                                <td>업무 수행에 따른 만족도는?</td>
                                                <td>{{report.schedule_01_01}}</td>
                                            </tr>
                                            <tr>
                                                <th scope="row">난의도 1</th>
                                                <td>능력에 비해 직무의 난이도는?</td>
                                                <td>{{report.schedule_02_01}}</td>
                                            </tr>
                                            <tr>
                                                <th scope="row">업무량 1</th>
                                                <td>현재 담당하고 있는 업무의 양은?</td>
                                                <td>{{report.schedule_03_01}}</td>
                                            </tr>
                                            <tr>
                                                <th scope="row">불만요소 1</th>
                                                <td>담당 직무에 불만이 있는 경우 그 까닭은?</td>
                                                <td>{{report.schedule_04_01}}</td>
                                            </tr>
                                            <tr>
                                                <th scope="row">불만요소 1 (기타)</th>
                                                <td>담당 직무에 불만이 있는 경우 그 까닭은?</td>
                                                <td>{{report.schedule_04_02}}</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
                {% endfor %}
                {% endif %}

                {% if users_detail.level == '1' and user.level == '1' or users_detail.level == '2' and user.level == '1' or users_detail.level == '3' and user.level == '1' or users_detail.level == '4' and user.level == '1' %}
                {% for report in report_detail_004.all %}
                <div id="accordion" class="custom-accordion">
                    <div class="card mb-1 shadow-none">
                        <a href="#collapseThree" class="text-dark collapsed" data-bs-toggle="collapse" aria-expanded="false" aria-controls="collapseTwo">
                            <div class="card-header" id="headingTwo">
                                <h6 class="m-0">
                                    3차고과
                                    <i class="mdi mdi-minus float-end accor-plus-icon"></i>
                                </h6>
                            </div>
                        </a>
                        <div id="collapseThree" class="collapse" aria-labelledby="headingTwo" data-bs-parent="#accordion" style="">
                            <div class="card-body">

                                <div class="table-responsive">
                                    <h4 class="card-title"><i class="ri-user-star-line"></i> 작성자 : {{report.name}}</h4>
                                    <table class="table table-striped mb-0">
                                        <thead>
                                            <tr>
                                                <th>구분</th>
                                                <th>항목</th>
                                                <th>평가결과</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <th scope="row">만족도 1</th>
                                                <td>업무 수행에 따른 만족도는?</td>
                                                <td>{{report.schedule_01_01}}</td>
                                            </tr>
                                            <tr>
                                                <th scope="row">난의도 1</th>
                                                <td>능력에 비해 직무의 난이도는?</td>
                                                <td>{{report.schedule_02_01}}</td>
                                            </tr>
                                            <tr>
                                                <th scope="row">업무량 1</th>
                                                <td>현재 담당하고 있는 업무의 양은?</td>
                                                <td>{{report.schedule_03_01}}</td>
                                            </tr>
                                            <tr>
                                                <th scope="row">불만요소 1</th>
                                                <td>담당 직무에 불만이 있는 경우 그 까닭은?</td>
                                                <td>{{report.schedule_04_01}}</td>
                                            </tr>
                                            <tr>
                                                <th scope="row">불만요소 1 (기타)</th>
                                                <td>담당 직무에 불만이 있는 경우 그 까닭은?</td>
                                                <td>{{report.schedule_04_02}}</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
                {% endfor %}
                {% endif %}

                {% if users_detail.level == '1' and user.level == '1' or users_detail.level == '2' and user.level == '1' or users_detail.level == '3' and user.level == '1' or users_detail.level == '4' and user.level == '1' or users_detail.level == '2' and user.level == '2' and users_detail.email == user.email or users_detail.level == '3' and user.level == '3' and users_detail.email == user.email or users_detail.level == '4' and user.level == '4' and users_detail.email == user.email or users_detail.level == '4' and user.level == '2' and users_detail.department == user.department or users_detail.level == '3' and user.level == '2' and users_detail.department == user.department or users_detail.level == '4' and user.level == '3' and users_detail.team == user.team %}
                <div id="checkout-nav-pills-wizard" class="twitter-bs-wizard">
                    <p></P>
                    <a href="{% url 'self_detail' users_detail.pk %}" class="text-primary"><i class="ri-arrow-go-back-line" style="margin-right:5px"></i>뒤로가기</a>
                    <p></P>
                    <ul class="twitter-bs-wizard-nav">
                        <li class="nav-item">
                            <a href="#self_schedule_001" class="nav-link" data-toggle="tab">
                                <span class="step-number">01</span>
                                <span class="step-title">만족도</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#self_schedule_002" class="nav-link" data-toggle="tab">
                                <span class="step-number">02</span>
                                <span class="step-title">난의도</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#self_schedule_003" class="nav-link" data-toggle="tab">
                                <span class="step-number">03</span>
                                <span class="step-title">업무량</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#self_schedule_004" class="nav-link" data-toggle="tab">
                                <span class="step-number">04</span>
                                <span class="step-title">불만요소</span>
                            </a>
                        </li>
                    </ul>

                    <form action="{% url 'self_submit_schedule' users_detail.pk %}" method="POST">
                    {% csrf_token %}

                    <div class="tab-content twitter-bs-wizard-tab-content">
                        <div class="tab-pane" id="self_schedule_001">
                            <h5 class="card-title" style="font-weight: bold;">만족도</h5>
                            <p class="card-title-desc">*고과결과는 승진,승급,보직변경,교육훈련,전환배치 등을 위한 기본자료로 반영되므로 자신이 공평하게 평가되기를 바라듯이 부하직원에 대한 근무평정을 공평무사하게 평가하여야 합니다.</p>
                                <div class="row">
                                    <div class="col-lg-4 col-sm-6">
                                        <div class="card border rounded active shipping-address">
                                            <div class="card-body">
                                                <h5 class="font-size-14" style="font-weight: bold;">항목 1</h5>
                                                <p class="mb-1">업무 수행에 따른 만족도는?</p>
                                                <div class="rating-star">
                                                    <div class="rating-star">
                                                        <select class="form-select" id="schedule_01_01" name="schedule_01_01" required="">
                                                            <option selected="" disabled="" value="">선택해주세요</option>
                                                            <option value="S (매우높다)">S (매우높다)</option>
                                                            <option value="A (높다)">A (높다)</option>
                                                            <option value="B (보통)">B (보통)</option>
                                                            <option value="C (낮다)">C (낮다)</option>
                                                            <option value="D (매우낮다)">D (매우낮다)</option>
                                                        </select>
                                                    
                                                    </div>    
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                        </div>

                        <div class="tab-pane" id="self_schedule_002">
                            <h5 class="card-title" style="font-weight: bold;">난의도</h5>
                            <p class="card-title-desc">*고과결과는 승진,승급,보직변경,교육훈련,전환배치 등을 위한 기본자료로 반영되므로 자신이 공평하게 평가되기를 바라듯이 부하직원에 대한 근무평정을 공평무사하게 평가하여야 합니다.</p>
                                <div class="row">
                                    <div class="col-lg-4 col-sm-6">
                                        <div class="card border rounded active shipping-address">
                                            <div class="card-body">
                                                <h5 class="font-size-14" style="font-weight: bold;">항목 1</h5>
                                                <p class="mb-1">능력에 비해 직무의 난이도는?</p>
                                                <div class="rating-star">
                                                    <div class="rating-star">
                                                        <select class="form-select" id="schedule_02_01" name="schedule_02_01" required="">
                                                            <option selected="" disabled="" value="">선택해주세요</option>
                                                            <option value="S (매우높다)">S (매우높다)</option>
                                                            <option value="A (높다)">A (높다)</option>
                                                            <option value="B (보통)">B (보통)</option>
                                                            <option value="C (낮다)">C (낮다)</option>
                                                            <option value="D (매우낮다)">D (매우낮다)</option>
                                                        </select>
                                                    </div>    
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>

                        <div class="tab-pane" id="self_schedule_003">
                            <h5 class="card-title" style="font-weight: bold;">업무량</h5>
                            <p class="card-title-desc">*고과결과는 승진,승급,보직변경,교육훈련,전환배치 등을 위한 기본자료로 반영되므로 자신이 공평하게 평가되기를 바라듯이 부하직원에 대한 근무평정을 공평무사하게 평가하여야 합니다.</p>
                                <div class="row">
                                    <div class="col-lg-4 col-sm-6">
                                        <div class="card border rounded active shipping-address">
                                            <div class="card-body">
                                                <h5 class="font-size-14" style="font-weight: bold;">항목 1</h5>
                                                <p class="mb-1">현재 담당하고 있는 업무의 양은?</p>
                                                <div class="rating-star">
                                                    <div class="rating-star">
                                                        <select class="form-select" id="schedule_03_01" name="schedule_03_01" required="">
                                                            <option selected="" disabled="" value="">선택해주세요</option>
                                                            <option value="S (매우높다)">S (매우높다)</option>
                                                            <option value="A (높다)">A (높다)</option>
                                                            <option value="B (보통)">B (보통)</option>
                                                            <option value="C (낮다)">C (낮다)</option>
                                                            <option value="D (매우낮다)">D (매우낮다)</option>
                                                        </select>
                                                    </div>    
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                        </div>

                        <div class="tab-pane" id="self_schedule_004">
                            <h5 class="card-title" style="font-weight: bold;">불만요소</h5>
                            <p class="card-title-desc">*고과결과는 승진,승급,보직변경,교육훈련,전환배치 등을 위한 기본자료로 반영되므로 자신이 공평하게 평가되기를 바라듯이 부하직원에 대한 근무평정을 공평무사하게 평가하여야 합니다.</p>
                            <div>
                                    <div class="row">
                                        <div class="col-lg-4 col-sm-6">
                                            <div class="card border rounded active shipping-address">
                                                <div class="card-body">
                                                    <h5 class="font-size-14" style="font-weight: bold;">항목 1</h5>
                                                    <p class="mb-1">담당 직무에 불만이 있는 경우 그 까닭은?</p>
                                                    <div class="rating-star">
                                                        <div class="rating-star">                                                            
                                                            <select class="form-select" id="schedule_04_01" name="schedule_04_01" required="">
                                                                <option value="">선택해주세요</option>
                                                                <option value="업무처리 능력 부족">업무처리 능력 부족</option>
                                                                <option value="능력에 비해 저 수준의 업무수행">능력에 비해 저 수준의 업무수행</option>
                                                                <option value="장기간의 동일 업무">장기간의 동일 업무</option>
                                                                <option value="업무량 과다">업무량 과다</option>
                                                                <option value="적성에 맞지 않음">적성에 맞지 않음</option>
                                                                <option value="etc">기타</option>
                                                            </select>   
                                                            <input id="schedule_04_02" name="schedule_04_02" type="text" class="input-large form-control" placeholder="기타사유를 입력해주세요" value="기타의견 없음">
                                                        </div>    
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                <div class="mt-4 text-right" style="text-align: end;">
                                    <button type="submit" id="schedule_submit" class="btn btn-success" style="text-align=right;" onClick="this.style.visibility='hidden'">제출하기(수정가능)</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>

                    <ul class="pager wizard twitter-bs-wizard-pager-link">
                        <li class="previous"><a href="#">이전</a></li>
                        <li class="next"><a href="#">다음</a></li>
                    </ul>
                </div>
                {% else %}
                <div id="checkout-nav-pills-wizard" class="twitter-bs-wizard">
                    <p></P>
                    <a href="{% url 'self_detail' users_detail.pk %}" class="text-primary"><i class="ri-arrow-go-back-line" style="margin-right:5px"></i>뒤로가기</a>
                    <p></P>
                    평가대상이 아닙니다.
                </div>
                {% endif %}
            </div>
        </div>
    </div>
</div>
<!-- end row -->
{% endblock content %}
{% block extra_javascript %}
    <!-- twitter-bootstrap-wizard js -->
    <script src="{% static 'libs/twitter-bootstrap-wizard/jquery.bootstrap.wizard.min.js' %}"></script>

    <script src="{% static 'libs/twitter-bootstrap-wizard/prettify.js' %}"></script>
    <!-- ecommerce-checkout init -->
    <script src="{% static 'js/pages/ecommerce-checkout.init.js' %}"></script>

    <script src="{% static 'libs/bootstrap-rating/bootstrap-rating.min.js' %}"></script>

    <script src="{% static 'js/pages/rating-init.js' %}"></script>

    <script>
        $(function(){
              //입력박스 숨어있다가
        $("#schedule_04_02").hide();
        $("#schedule_04_01").change(function() {
                        //기타를 선택하면 등장
                if($("#schedule_04_01").val() == "etc") {
                    $("#schedule_04_02").show();
                }  else {
                    $("#schedule_04_02").hide();
                }
            }) 
        });
    </script>
{% endblock extra_javascript %}